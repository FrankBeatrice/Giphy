<html>
<head>
    <title>Gifs</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>

<div class="container">
  <h1>Search </h1>

  <div id="buttonView">
  </div>

  <form id="gif-f">
    <label for="gif-inp">Add a giff pussy</label>
    <input type="text" id="gif-inp"><br>
   
    <input id="addGif" type="submit" value="Add something">
  </form>

  <div id="gifsView">

  </div>
  <div id="gifsView">

  </div>
  <div id="gifsView">

  </div>
</div>
<script src='http://code.jquery.com/jquery-2.1.3.min.js'></script>
<script type="text/javascript">
    var gifArray = [];

    function renderButtons(){ 
        $('#buttonView').empty();

        for (var i = 0; i < gifArray.length; i++){
            var a = $('<button>')
            a.addClass('gif');
            a.attr('data-name', gifArray[i]);
            a.text(gifArray[i]);
            $('#buttonsView').append(a);
        }
    }

    function displayGifInfo(){
        var gif = $(this).attr('data-name');
        var queryURL = "http://api.giphy.com/v1/gifs/search?q=" + gif + "&api_key=dc6zaTOxFJmzC&limit=3";

    $.ajax({
                url: queryURL,
                method: 'GET'
            })
            
            .done(function(response) {   

        var results = response.data;

        for (var i = 0; i < results.length; i++){

        var gifDiv = $('<div>');
        var p = $('<p>');
        p = results[i].rating;
        var gifImage = $('<img>');
        gifImage.attr('src', results[i].images.fixed_height.url);
        gifDiv.append(p);
        gifDiv.append(gifImage);
        $('#gifsView').prepend(gifDiv);

    }
    
    });
    }
  

    renderButtons();

    $('#addGif').on('click', function(){

        var gif = $('#gif-inp').val().trim();

        gifArray.push(gif);
        
        renderButtons();

        return false;
    });

    $(document).on('click', '.gif', displayGifInfo);

</script>


</body>
</html>